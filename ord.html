<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit card Validator</title>
</head>
<script src="https://cdn.tailwindcss.com"></script>

<body class = "min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-700">
    
    <div class="w-full max-w-md bg-white rounded-2xl shadow-2xl p-8">
        <form action="check">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                   Credit Card Validation
              </h2>

            <div class= "mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-1">Card Number</label>
                <input id="card" type="text" placeholder="1234 5678 9000 0000"  maxlength="19" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                <p id="cardError"  class="hidden text-sm text-red-600 mt-1">Invalid card number</p>

            </div>

            <div class="mb-6">
                <label class = "block text-sm font-medium text-gray-700 mb-1">CVV</label>
                <input id="CVV" placeholder="123"  class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                <p id="cvvError" class = "hidden text-sm text-red-600 mt-1" >InvalidCvv</p>
            </div>

            <div class="mb-6">
                <label for="" class = "block text-sm font-medium text-gray-700 mb-1">MM/YY</label>
                <input class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500" id = "month" type="text" placeholder="12/23" maxlength="5">
                <p id="Invaliddate" class="hidden text-sm text-red-600 mt-1">iNvalid date format</p>

            </div>
            <div class="button">
                <button id="validate" class = "w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-200" >validate</button>
                <p id="invaliddetails"   class="hidden text-sm text-red-600 mt-1" >Invalid Details</p>
            </div>
            
        </form>
        <script>
    const cardNumber = document.getElementById('card');
    const cvvNumber = document.getElementById('CVV');
    const monthYear = document.getElementById('month');
    const invaliddetails = document.getElementById('invaliddetails');

    const cardError = document.getElementById('cardError');
    const cvvError = document.getElementById('cvvError');
    const dateError = document.getElementById('Invaliddate');

    const validateBtn = document.getElementById('validate');

    validateBtn.addEventListener('click', function (e) {
        e.preventDefault();

        let isValid = true;

        const cardValue = cardNumber.value.replace(/\s+/g, "");
        const cvv = cvvNumber.value;
        const expiryValue = monthYear.value;

        const cardRegex = /^(4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})$/;
        const cvvRegex = /^[0-9]{3,4}$/;
        const expiryRegex = /^(0[1-9]|1[0-2])\/\d{2}$/;

        // Card validation
        if (!cardRegex.test(cardValue)) {
            cardError.classList.remove('hidden');
            isValid = false;
        } else {
            cardError.classList.add('hidden');
        }

        // CVV validation
        if (!cvvRegex.test(cvv)) {
            cvvError.classList.remove('hidden');
            isValid = false;
        } else {
            cvvError.classList.add('hidden');
        }

        // Expiry validation
        if (!expiryRegex.test(expiryValue)) {
            dateError.classList.remove('hidden');
            isValid = false;
        } else {
            dateError.classList.add('hidden');
        }

        // Final result
        invaliddetails.classList.remove('hidden');

        if (isValid) {
            invaliddetails.textContent = 'Card is valid';
            invaliddetails.classList.remove('text-red-600');
            invaliddetails.classList.add('text-green-600');

            alert('Form submitted successfully');
        } else {
            invaliddetails.textContent = 'Check the details';
            invaliddetails.classList.remove('text-green-600');
            invaliddetails.classList.add('text-red-600');
        }
    });

    // Input formatting
    cardNumber.addEventListener("input", () => {
        let value = cardNumber.value.replace(/\D/g, "");
        cardNumber.value = value.replace(/(\d{4})/g, "$1 ").trim();
    });

    cvvNumber.addEventListener("input", () => {
        cvvNumber.value = cvvNumber.value.replace(/\D/g, "").slice(0, 4);
    });

    monthYear.addEventListener("input", () => {
        let value = monthYear.value.replace(/\D/g, "");
        if (value.length >= 3) {
            value = value.slice(0, 2) + "/" + value.slice(2, 4);
        }
        monthYear.value = value;
    });
</script>

    </div>
</body>
</html>